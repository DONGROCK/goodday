<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script crossorigin src='https://unpkg.com/react@18/umd/react.development.js'></script>
    <script crossorigin src='https://unpkg.com/react-dom@18/umd/react-dom.development.js'></script>
    <script src='https://unpkg.com/@babel/standalone/babel.min.js'></script>

</head>

<body>
    <div id='root'></div>
    <!-- 리스트형 컴포넌트 사용 예시 -->
    <script type='text/babel'>

        const {useState} = React; // const userState = React.useState; 이거랑 같다.

        function App(){
            const [names, setNames] = useState([
                {id: 1, name: '홍박사'},
                {id: 2, name: '청박사'},
                {id: 3, name: '녹박사'},
                ])

                const [inputText, setInputText] = useState('');
                const [nextId, setNextId] = useState(4); // 이전에 id값이 3이라서 다음값인 4로 시작한다.
                
                const onChangeHandler = (e) => setInputText(e.target.value);
                const onClickHandler = () => {
                    const changedNames = names.concat({
                        id: nextId,
                        name: inputText,
                    }) //concat 문자열합치기 새로운 배열을 만들어서 추가
                    setNextId(nextId + 1);
                    setNames(changedNames);
                    setInputText('');
                    console.log("qqqq",nextId);
                    console.log("qqqq",changedNames);
                    
                }

                const onRemove = (id) => {
                    //arr.filter(callback)
                    //기존 배열에서 callback 함수를 각 요소마다 실행하고 ture를 반환하는 요소들만으로 다시 배열을
                    //정의하여 반환하는 배열의 메소드
                    
                    const changedNames = names.filter((member) => member.id !== id);
                    console.log("qqqqqqqqqqqqq",changedNames);
                    setNames(changedNames)
                    
                }

                const nameList = names.map((member) =>( 
                <li key={member.id} onDoubleClick={() => onRemove(member.id)}>
                    {member.name}
                    </li>
                    ))
                    console.log(nameList);
                    
                return(
                    <>
                        <input value={inputText} onChange={onChangeHandler}/>
                        <button onClick={onClickHandler}>추가</button>
                        <ul>{nameList}</ul>
                        
                    </>
                )
        }
        ReactDOM.createRoot(document.getElementById('root')).render(<App/>);
    </script>
</body>

</html>