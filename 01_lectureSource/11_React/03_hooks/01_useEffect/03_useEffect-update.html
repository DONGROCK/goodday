<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script crossorigin src='https://unpkg.com/react@18/umd/react.development.js'></script>
    <script crossorigin src='https://unpkg.com/react-dom@18/umd/react-dom.development.js'></script>
    <script src='https://unpkg.com/@babel/standalone/babel.min.js'></script>

</head>

<body>
    <div id='root'></div>
    <!--
         마운트 시점 뿐만 아니라 특정 값이 업데이트 될 때만 실행하게 해본다.
     -->
    <script type='text/babel'>
       const {useState, useEffect} = React;
       
       function LoginForm(){

        const [user, setUser] = useState({
            username: '',
            password: '',
        })

        
        const onChangeHandler = (e) => {
            setUser({
                ...user, ///rest.parameter
                [e.target.name] : e.target.value
            })
        }

       useEffect(() => {
            console.log('username update...');
            
        },[user.username])//동작하기 전의 변경 전 값과 후 값을 비교하여 일치하면 호출을 건너뛴다.
        
        useEffect(() => {
            console.log('password update...');
            
        },[user.password])
        
        return (
            <>
            <label>username</label>
            <input type="text" name='username' onChange= {onChangeHandler}/>
            <br/>
            <label>password: </label>
            <input type="text" name='password' onChange= {onChangeHandler}/>
            </>
            )
        }
            
            ReactDOM.createRoot(document.getElementById('root')).render(<LoginForm/>);
            </script>
            </body>
            
            </html>