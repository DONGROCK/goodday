<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script crossorigin src='https://unpkg.com/react@18/umd/react.development.js'></script>
    <script crossorigin src='https://unpkg.com/react-dom@18/umd/react-dom.development.js'></script>
    <script src='https://unpkg.com/@babel/standalone/babel.min.js'></script>

</head>

<body>
    <div id='root'></div>



    <script type='text/babel'>
        const {useState, useReducer} = React;

//         function Counter(){

//             const [state, setState] = useState({value : 0})
// // reducer 아래에서 숫자를 뺴거나 더하는 행위
//             return(
//                 <>
//                     <h1>count : {state.value}</h1>
//                     <button onClick={() => setState({value: state.value - 1})}>- 1</button>
//                     <button onClick={() => setState({value: state.value + 1})}>+ 1</button>
//                 </>
//             )
//         }

    //useReducer(외부함수(리듀서)에서 컴포넌트의 state를 action에 따라 관리)
    //리듀서에게는 어떤 값을 바꿀건지 
    function Reducer(state, action){
        console.log("----state----",state);
        console.log("---action---",action);

        switch(action.type){
            case 'DECREMENT' :
                return {value: state.value - 1}
            case 'INCREMENT' :
                return {value: state.value + 1}
            default:
                return state
        }

    }
            function Counter(){
                        //setstate역할           //state   // action
            const [state, dispatch] = useReducer(Reducer, {value : 0})
// reducer 아래에서 숫자를 뺴거나 더하는 행위
// 상태를 바꾸려면 state
// reducer 실행을 할 수 있는 dispatch를 가진다.
            return(
                <>
                    <h1>count : {state.value}</h1>
                    <button onClick={() => dispatch({type: 'DECREMENT'})}>- 1</button>
                    <button onClick={() => dispatch({type: 'INCREMENT'})}>+ 1</button>
                </>
            )
        }



        ReactDOM.createRoot(document.getElementById('root')).render(<Counter/>);
    </script>
</body>

</html>